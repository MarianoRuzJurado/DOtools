<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>DO Bar plot for GSEA df result — DO.SplitBarGSEA • DOtools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="DO Bar plot for GSEA df result — DO.SplitBarGSEA"><meta name="description" content="This function generates a split barplot. This is a plot where the top 10 Go terms
are shown, sorted based on a column ('col_split'). Two conditions are shown at the same
time. One condition is shown in the positive axis, while the other in the negative one.
The condition to be shown as positive is set with 'pos_col'.
The GO terms will be shown inside the bars, if the term is too long, using 'cutoff',
you can control the maximum number of characters per line.
Pre-filter of the dataframe to contain significant Terms is recommended"><meta property="og:description" content="This function generates a split barplot. This is a plot where the top 10 Go terms
are shown, sorted based on a column ('col_split'). Two conditions are shown at the same
time. One condition is shown in the positive axis, while the other in the negative one.
The condition to be shown as positive is set with 'pos_col'.
The GO terms will be shown inside the bars, if the term is too long, using 'cutoff',
you can control the maximum number of characters per line.
Pre-filter of the dataframe to contain significant Terms is recommended"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119440867-11"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-119440867-11');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DOtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"></ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>DO Bar plot for GSEA df result</h1>

      <div class="d-none name"><code>DO.SplitBarGSEA.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function generates a split barplot. This is a plot where the top 10 Go terms
are shown, sorted based on a column ('col_split'). Two conditions are shown at the same
time. One condition is shown in the positive axis, while the other in the negative one.
The condition to be shown as positive is set with 'pos_col'.</p>
<p>The GO terms will be shown inside the bars, if the term is too long, using 'cutoff',
you can control the maximum number of characters per line.</p>
<p>Pre-filter of the dataframe to contain significant Terms is recommended</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">DO.SplitBarGSEA</span><span class="op">(</span></span>
<span>  <span class="va">df_GSEA</span>,</span>
<span>  <span class="va">term_col</span>,</span>
<span>  <span class="va">col_split</span>,</span>
<span>  <span class="va">cond_col</span>,</span>
<span>  <span class="va">pos_cond</span>,</span>
<span>  cutoff <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  log10_transform <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  figsize <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  topN <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  colors_pairs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sandybrown"</span>, <span class="st">"royalblue"</span><span class="op">)</span>,</span>
<span>  alpha_colors <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spacing <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  txt_size <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  filename <span class="op">=</span> <span class="st">"SplitBar.svg"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Top 10 GO Terms in each Condition: "</span>,</span>
<span>  show <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  celltype <span class="op">=</span> <span class="st">"all"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df-gsea">df_GSEA<a class="anchor" aria-label="anchor" href="#arg-df-gsea"></a></dt>
<dd><p>dataframe with the results of a gene set enrichment analysis</p></dd>


<dt id="arg-term-col">term_col<a class="anchor" aria-label="anchor" href="#arg-term-col"></a></dt>
<dd><p>column in the dataframe that contains the terms</p></dd>


<dt id="arg-col-split-">col_split:<a class="anchor" aria-label="anchor" href="#arg-col-split-"></a></dt>
<dd><p>column in the dataframe that will be used to sort and split the plot</p></dd>


<dt id="arg-cond-col-">cond_col:<a class="anchor" aria-label="anchor" href="#arg-cond-col-"></a></dt>
<dd><p>column in the dataframe that contains the condition information</p></dd>


<dt id="arg-pos-cond-">pos_cond:<a class="anchor" aria-label="anchor" href="#arg-pos-cond-"></a></dt>
<dd><p>condition that will be shown in the positive side of the plot</p></dd>


<dt id="arg-cutoff-">cutoff:<a class="anchor" aria-label="anchor" href="#arg-cutoff-"></a></dt>
<dd><p>maximum number of characters per line</p></dd>


<dt id="arg-log-transform-">log10_transform:<a class="anchor" aria-label="anchor" href="#arg-log-transform-"></a></dt>
<dd><p>if col_split contains values between 0 and 1, assume they are pvals and apply a -log10 transformation</p></dd>


<dt id="arg-figsize-">figsize:<a class="anchor" aria-label="anchor" href="#arg-figsize-"></a></dt>
<dd><p>figure size</p></dd>


<dt id="arg-topn-">topN:<a class="anchor" aria-label="anchor" href="#arg-topn-"></a></dt>
<dd><p>how many terms are shown</p></dd>


<dt id="arg-path-">path:<a class="anchor" aria-label="anchor" href="#arg-path-"></a></dt>
<dd><p>path to save the plot</p></dd>


<dt id="arg-filename-">filename:<a class="anchor" aria-label="anchor" href="#arg-filename-"></a></dt>
<dd><p>filename for the plot</p></dd>


<dt id="arg-spacing-">spacing:<a class="anchor" aria-label="anchor" href="#arg-spacing-"></a></dt>
<dd><p>space to add between bars and origin. It is a percentage value, indicating that the bars start at 5 % of the maximum X axis value.</p></dd>


<dt id="arg-txt-size-">txt_size:<a class="anchor" aria-label="anchor" href="#arg-txt-size-"></a></dt>
<dd><p>size of the go terms text</p></dd>


<dt id="arg-alpha-colors-">alpha_colors:<a class="anchor" aria-label="anchor" href="#arg-alpha-colors-"></a></dt>
<dd><p>alpha value for the colors of the bars</p></dd>


<dt id="arg-colors-pairs-">colors_pairs:<a class="anchor" aria-label="anchor" href="#arg-colors-pairs-"></a></dt>
<dd><p>colors for each condition (1st color –&gt; negative axis; 2nd color –&gt; positive axis)</p></dd>


<dt id="arg-title-">title:<a class="anchor" aria-label="anchor" href="#arg-title-"></a></dt>
<dd><p>title of the plot</p></dd>


<dt id="arg-show-">show:<a class="anchor" aria-label="anchor" href="#arg-show-"></a></dt>
<dd><p>if False, the axis is return</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>: None or the axis</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Mariano Ruz Jurado</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">#df with GSEA results e.g. Metascape results</span></span></span>
<span class="r-in"><span><span class="va">df_GSEA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"path/to/GSEA_results.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Please add a 'celltype' and 'condition' column</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df_GSEA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#Columns should include: "Term", "Combined.Score", "conditon", "celltype", etc.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Run SplitBarGSEA visualization</span></span></span>
<span class="r-in"><span><span class="fu">DO.SplitBarGSEA</span><span class="op">(</span>df_GSEA <span class="op">=</span> <span class="va">df_GSEA</span>,</span></span>
<span class="r-in"><span>                term_col <span class="op">=</span> <span class="st">"Term"</span>,</span></span>
<span class="r-in"><span>                col_split <span class="op">=</span> <span class="st">"Combined.Score"</span>,</span></span>
<span class="r-in"><span>                cond_col <span class="op">=</span> <span class="st">"condition"</span>,          <span class="co"># condition column (e.g., experimental group)</span></span></span>
<span class="r-in"><span>                pos_cond <span class="op">=</span> <span class="st">"Treatment"</span>,</span></span>
<span class="r-in"><span>                cutoff <span class="op">=</span> <span class="fl">40</span>,                 <span class="co"># max term length before truncation</span></span></span>
<span class="r-in"><span>                log10_transform <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                figsize <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                topN <span class="op">=</span> <span class="fl">10</span>,                   <span class="co"># top N GO terms to show</span></span></span>
<span class="r-in"><span>                color_pairs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sandybrown"</span>, <span class="st">"royalblue"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                alpha_colors <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>                path <span class="op">=</span> <span class="st">"results/plots"</span>,</span></span>
<span class="r-in"><span>                spacing <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>                txt_size <span class="op">=</span> <span class="fl">12</span>,</span></span>
<span class="r-in"><span>                filename <span class="op">=</span> <span class="st">"SplitBar.svg"</span>,</span></span>
<span class="r-in"><span>                title <span class="op">=</span> <span class="st">"Top 10 GO Terms in each Condition: "</span>,</span></span>
<span class="r-in"><span>                show <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                celltype <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mariano Ruz Jurado, David Rodriguez Morales, David John.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

